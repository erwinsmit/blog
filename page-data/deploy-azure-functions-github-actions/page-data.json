{"componentChunkName":"component---src-templates-blog-post-js","path":"/deploy-azure-functions-github-actions/","webpackCompilationHash":"b955c2651a826f1e8378","result":{"data":{"site":{"siteMetadata":{"title":"Erwin Smit blog","author":"Erwin Smit"}},"markdownRemark":{"id":"38fb83b1-c418-51b4-86cc-3c65ea0d0e33","html":"<p>When deploying Azure Functions the most straightforward approach is to use the <strong>actions/checkout@v2</strong> <a href=\"https://docs.microsoft.com/en-us/azure/azure-functions/functions-how-to-github-actions\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">recommended by Azure</a></p>\n<p>However, there are some restrictions with this approach. Using this approach. The Azure Functions will only work using the <strong><a href=\"https://docs.microsoft.com/en-us/azure/azure-functions/run-functions-from-deployment-package\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Run from package option</a></strong>. There are two reasons why this wasn’t great for a <a href=\"/nextjs-on-azure-functions\">Next.js custom server</a>.</p>\n<ol>\n<li>\n<p>Next.js requires to have write access for its <a href=\"https://nextjs.org/docs/basic-features/data-fetching#incremental-static-regeneration\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Incremental Static Generation</a>. With the <strong>Run from package option</strong> you can’t use this feature.</p>\n</li>\n<li>\n<p>Because there is no write access it’s also not possible to use the <a href=\"https://social.technet.microsoft.com/wiki/contents/articles/36467.understanding-the-azure-app-service-editor.aspx\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Azure App Service Editor</a>. During development I love this feature to test changes quickly without having to wait for deployments.</p>\n</li>\n</ol>\n<h2 id=\"alternative-ways-for-deploying-azure-function-with-github-actions\"><a href=\"#alternative-ways-for-deploying-azure-function-with-github-actions\" aria-label=\"alternative ways for deploying azure function with github actions permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Alternative ways for deploying Azure Function with GitHub Actions</h2>\n<h3 id=\"using-the-azure-cli\"><a href=\"#using-the-azure-cli\" aria-label=\"using the azure cli permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Using the Azure CLI</h3>\n<p>Instead of using the recommended <strong>actions/checkout@v2</strong> it’s also possible to use the Azure CLI directly in the .yml file. Before doing so, it’s required to run a <a href=\"https://github.com/marketplace/actions/azure-login\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">login command</a> first. To run this you’ll need deployment credentials which can be generated through the <a href=\"https://docs.microsoft.com/en-us/azure/cloud-shell/quickstart\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Azure Cloud Shell</a> for example. </p>\n<p>If you have the required permissions within your organisation you’re in business! Now you can run all the <a href=\"https://docs.microsoft.com/en-us/cli/azure/functionapp/deployment\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">deploy commands</a> available for Azure Functions. </p>\n<p>I did not have the required permissions to create deployment credentials. Also, when trying to run this locally I found the deployments pretty slow. Just the Azure Functions are deployed quickly but with the Azure Functions also came a big Next.js build folder and their NPM dependencies (with and without remote builds). </p>\n<h3 id=\"using-az-copy\"><a href=\"#using-az-copy\" aria-label=\"using az copy permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Using AZ Copy</h3>\n<p>This is the solution I picked for deploying Azure Functions. It’s reasonably quick for big projects and I have full access to the Azure App Service Editor and write access. Let’s show the implementation step by step.</p>\n<ol>\n<li>\n<p><strong>Create the Function App</strong>\n<a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/dbf604721ca528d625b5b3fd6189af7c/050a5/create-function-app.jpg\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 809px;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 86.03213844252163%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAARABQDASIAAhEBAxEB/8QAGQABAAMBAQAAAAAAAAAAAAAAAAECBAMF/8QAFQEBAQAAAAAAAAAAAAAAAAAAAAL/2gAMAwEAAhADEAAAAfX6XoSkZtRUyJr/xAAcEAABBQADAAAAAAAAAAAAAAABAAIDEBIRITL/2gAIAQEAAQUCEbAstWW1noDhR+hX/8QAFhEBAQEAAAAAAAAAAAAAAAAAEAIx/9oACAEDAQE/AScP/8QAFhEBAQEAAAAAAAAAAAAAAAAAEAIx/9oACAECAQE/AStP/8QAGxAAAQQDAAAAAAAAAAAAAAAAAAECECExMkH/2gAIAQEABj8CpiGpiLVTo6f/xAAeEAACAQMFAAAAAAAAAAAAAAABEQAgYZEhMVFxgf/aAAgBAQABPyEswPJaYlriLeAihR5GkQTLs0Z//9oADAMBAAIAAwAAABCACDz/xAAUEQEAAAAAAAAAAAAAAAAAAAAg/9oACAEDAQE/EBf/xAAUEQEAAAAAAAAAAAAAAAAAAAAg/9oACAECAQE/EBf/xAAeEAACAQQDAQAAAAAAAAAAAAAAAREhMVFxEEGhwf/aAAgBAQABPxCUiWFICJhlggqBibnVBMCovIz2/Wdt8f/Z'); background-size: cover; display: block;\"\n    ></span>\n    <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;\"\n        alt=\"Function setup\"\n        title=\"\"\n        src=\"/static/dbf604721ca528d625b5b3fd6189af7c/050a5/create-function-app.jpg\"\n        srcset=\"/static/dbf604721ca528d625b5b3fd6189af7c/f0518/create-function-app.jpg 225w,\n/static/dbf604721ca528d625b5b3fd6189af7c/b3492/create-function-app.jpg 450w,\n/static/dbf604721ca528d625b5b3fd6189af7c/050a5/create-function-app.jpg 809w\"\n        sizes=\"(max-width: 809px) 100vw, 809px\"\n      />\n  </span>\n  </a></p>\n</li>\n<li>\n<p><strong>Select or create a new storage account</strong>\n<a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/fe16700e90f24b836db9680226192453/25f26/storage-account.jpg\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 883px;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 89.46772366930918%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAASABQDASIAAhEBAxEB/8QAGAABAAMBAAAAAAAAAAAAAAAAAAECAwX/xAAUAQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIQAxAAAAHszoKriQAf/8QAGhAAAgIDAAAAAAAAAAAAAAAAAAIBAxESIP/aAAgBAQABBQKK0gwhqvf/xAAUEQEAAAAAAAAAAAAAAAAAAAAg/9oACAEDAQE/AR//xAAUEQEAAAAAAAAAAAAAAAAAAAAg/9oACAECAQE/AR//xAAYEAADAQEAAAAAAAAAAAAAAAAAATEgMv/aAAgBAQAGPwLlERN//8QAGxABAAICAwAAAAAAAAAAAAAAAQARIDFhgZH/2gAIAQEAAT8hUsLqCKFhucXzP//aAAwDAQACAAMAAAAQc8AA/8QAFBEBAAAAAAAAAAAAAAAAAAAAIP/aAAgBAwEBPxAf/8QAFBEBAAAAAAAAAAAAAAAAAAAAIP/aAAgBAgEBPxAf/8QAHBABAAEEAwAAAAAAAAAAAAAAAQAhMVGRESDB/9oACAEBAAE/EKEVgnkUhsAqQaIGt9w5w76//9k='); background-size: cover; display: block;\"\n    ></span>\n    <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;\"\n        alt=\"Create storage account\"\n        title=\"\"\n        src=\"/static/fe16700e90f24b836db9680226192453/25f26/storage-account.jpg\"\n        srcset=\"/static/fe16700e90f24b836db9680226192453/f0518/storage-account.jpg 225w,\n/static/fe16700e90f24b836db9680226192453/b3492/storage-account.jpg 450w,\n/static/fe16700e90f24b836db9680226192453/25f26/storage-account.jpg 883w\"\n        sizes=\"(max-width: 883px) 100vw, 883px\"\n      />\n  </span>\n  </a></p>\n</li>\n<li>\n<p><strong>See how the Function App is connected</strong>\n<a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/324b4378855828470ce93e2b6930e358/25f26/storage-account-connection.jpg\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 883px;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 89.46772366930918%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAASABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAAIBBf/EABQBAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhADEAAAAe6DQJCwf//EABYQAAMAAAAAAAAAAAAAAAAAAAEQIP/aAAgBAQABBQKwv//EABQRAQAAAAAAAAAAAAAAAAAAACD/2gAIAQMBAT8BH//EABQRAQAAAAAAAAAAAAAAAAAAACD/2gAIAQIBAT8BH//EABQQAQAAAAAAAAAAAAAAAAAAADD/2gAIAQEABj8CH//EABkQAAIDAQAAAAAAAAAAAAAAAAABEBFBMf/aAAgBAQABPyGlQmWZCZjOY//aAAwDAQACAAMAAAAQ48c8/8QAFBEBAAAAAAAAAAAAAAAAAAAAIP/aAAgBAwEBPxAf/8QAFBEBAAAAAAAAAAAAAAAAAAAAIP/aAAgBAgEBPxAf/8QAHBABAAICAwEAAAAAAAAAAAAAAQARITFBUYGx/9oACAEBAAE/EKE1leolZHyCrTAdq3Bo58JYXPtAOYOZR1P/2Q=='); background-size: cover; display: block;\"\n    ></span>\n    <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;\"\n        alt=\"Storage account connection\"\n        title=\"\"\n        src=\"/static/324b4378855828470ce93e2b6930e358/25f26/storage-account-connection.jpg\"\n        srcset=\"/static/324b4378855828470ce93e2b6930e358/f0518/storage-account-connection.jpg 225w,\n/static/324b4378855828470ce93e2b6930e358/b3492/storage-account-connection.jpg 450w,\n/static/324b4378855828470ce93e2b6930e358/25f26/storage-account-connection.jpg 883w\"\n        sizes=\"(max-width: 883px) 100vw, 883px\"\n      />\n  </span>\n  </a></p>\n</li>\n</ol>\n<p>This helped me to understand how the deployments to Azure Function Apps work. I figured out that all it takes is to upload a set of files to the <code class=\"language-text\">wwwroot</code> folder of the <code class=\"language-text\">fileshare</code> within the storage account.</p>\n<ol start=\"4\">\n<li><strong>Set up the GitHub action</strong>\nSee below an example on a yml I use for the deployment of an Azure Function. Place this file in the <code class=\"language-text\">.github</code> directory of your project and GitHub will automatically recognise the file and add the Action to the UI.</li>\n</ol>\n<p>Personally, I like to use the <code class=\"language-text\">workflow_dispatch</code> event. I don’t like to run a full build on each time I push some code. </p>\n<div class=\"gatsby-highlight\" data-language=\"yml\"><pre class=\"language-yml\"><code class=\"language-yml\"><span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Deploy Azure Function\n\n<span class=\"token key atrule\">on</span><span class=\"token punctuation\">:</span>\n  <span class=\"token punctuation\">[</span>workflow_dispatch<span class=\"token punctuation\">]</span>\n\n<span class=\"token key atrule\">env</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">NODE_VERSION</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'14.x'</span>\n  <span class=\"token comment\">## Enter the path to your storage account and include the name of the file share</span>\n  <span class=\"token key atrule\">AZUREFUNCDEST</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'https://${pathtostoreageaccount}.file.core.windows.net/${filesharename}/site/wwwroot'</span>\n\n<span class=\"token key atrule\">jobs</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">build-and-deploy</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">runs-on</span><span class=\"token punctuation\">:</span> windows<span class=\"token punctuation\">-</span>latest\n    <span class=\"token key atrule\">steps</span><span class=\"token punctuation\">:</span>\n    <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'Checkout GitHub Action'</span>\n      <span class=\"token key atrule\">uses</span><span class=\"token punctuation\">:</span> actions/checkout@main\n\n    <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Setup Node $<span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> env.NODE_VERSION <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span> Environment\n      <span class=\"token key atrule\">uses</span><span class=\"token punctuation\">:</span> actions/setup<span class=\"token punctuation\">-</span>node@v1\n      <span class=\"token key atrule\">with</span><span class=\"token punctuation\">:</span>\n        <span class=\"token key atrule\">node-version</span><span class=\"token punctuation\">:</span> $<span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> env.NODE_VERSION <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\n\n    <span class=\"token comment\">## Install a community package that adds the azcopy tool</span>\n    <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Install azcopy\n      <span class=\"token key atrule\">uses</span><span class=\"token punctuation\">:</span> kheiakiyama/install<span class=\"token punctuation\">-</span>azcopy<span class=\"token punctuation\">-</span>action@v1.0.3\n\n    <span class=\"token comment\">## Build your application, replace Lerna with NPM/Yarn if that's more suitable for your project</span>\n    <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'Lerna bootstrap &amp; azure functions build'</span>\n      <span class=\"token key atrule\">shell</span><span class=\"token punctuation\">:</span> pwsh\n      <span class=\"token key atrule\">run</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">|</span><span class=\"token scalar string\">\n        lerna bootstrap\n        npm run build\n        popd</span>\n\n    <span class=\"token comment\">## Clean up the directory before copying the new stuff over</span>\n    <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">uses</span><span class=\"token punctuation\">:</span> kheiakiyama/install<span class=\"token punctuation\">-</span>azcopy<span class=\"token punctuation\">-</span>action@v1\n      <span class=\"token key atrule\">with</span><span class=\"token punctuation\">:</span>\n        <span class=\"token key atrule\">version</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'v10'</span>\n    <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">run</span><span class=\"token punctuation\">:</span> azcopy_v10 rm '$<span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> env.AZUREFUNCDEST <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">?</span>$<span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> secrets.SECRETSASTOKEN <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>' <span class=\"token punctuation\">-</span><span class=\"token punctuation\">-</span>recursive\n\n    <span class=\"token comment\">## Copy the contents of the azure functions</span>\n    <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">uses</span><span class=\"token punctuation\">:</span> kheiakiyama/install<span class=\"token punctuation\">-</span>azcopy<span class=\"token punctuation\">-</span>action@v1\n      <span class=\"token key atrule\">with</span><span class=\"token punctuation\">:</span>\n        <span class=\"token key atrule\">version</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'v10'</span>\n    <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">run</span><span class=\"token punctuation\">:</span> azcopy_v10 copy './packages/azure<span class=\"token punctuation\">-</span>functions/*' '$<span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> env.AZUREFUNCDEST <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">?</span>$<span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> secrets.SECRETSASTOKEN <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>' <span class=\"token punctuation\">-</span><span class=\"token punctuation\">-</span>recursive</code></pre></div>\n<p>To authenticate the copying of the files, generate a SAS Token on the storage account.\n<a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/b03c2cae1c93b81100793f938a835a12/c9643/sas-token.jpg\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 900px;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 88.46938775510203%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAASABQDASIAAhEBAxEB/8QAGQABAAIDAAAAAAAAAAAAAAAAAAEDAgQF/8QAFQEBAQAAAAAAAAAAAAAAAAAAAAH/2gAMAwEAAhADEAAAAe1nEJYFq0gA/8QAGRAAAwADAAAAAAAAAAAAAAAAAQIQEjJB/9oACAEBAAEFAiim8zWNrP/EABQRAQAAAAAAAAAAAAAAAAAAACD/2gAIAQMBAT8BH//EABQRAQAAAAAAAAAAAAAAAAAAACD/2gAIAQIBAT8BH//EABgQAAIDAAAAAAAAAAAAAAAAAAEgAhEx/9oACAEBAAY/ArMQU1f/xAAbEAEAAgIDAAAAAAAAAAAAAAABABAxUREhYf/aAAgBAQABPyHuxbSFLBgSPtZa5dz/2gAMAwEAAgADAAAAECwHPP/EABQRAQAAAAAAAAAAAAAAAAAAACD/2gAIAQMBAT8QH//EABQRAQAAAAAAAAAAAAAAAAAAACD/2gAIAQIBAT8QH//EAB0QAQACAgIDAAAAAAAAAAAAAAEAESFBMVFhkbH/2gAIAQEAAT8QYBnFNZShpXxBrTALUtOiW0GwjBlnZG8rv5DOXmHc9z//2Q=='); background-size: cover; display: block;\"\n    ></span>\n    <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;\"\n        alt=\"Generate SAS token\"\n        title=\"\"\n        src=\"/static/b03c2cae1c93b81100793f938a835a12/2a9fa/sas-token.jpg\"\n        srcset=\"/static/b03c2cae1c93b81100793f938a835a12/f0518/sas-token.jpg 225w,\n/static/b03c2cae1c93b81100793f938a835a12/b3492/sas-token.jpg 450w,\n/static/b03c2cae1c93b81100793f938a835a12/2a9fa/sas-token.jpg 900w,\n/static/b03c2cae1c93b81100793f938a835a12/c9643/sas-token.jpg 980w\"\n        sizes=\"(max-width: 900px) 100vw, 900px\"\n      />\n  </span>\n  </a></p>\n<p>Add the SAS Token to the GitHub secrets:\n<a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/9f5efeb921c66776d7a9cbf7327984c3/b31e2/github-secret.jpg\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 790px;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 97.84810126582278%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAUABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAAECBf/EABUBAQEAAAAAAAAAAAAAAAAAAAAB/9oADAMBAAIQAxAAAAHu2E0hWgA//8QAFhABAQEAAAAAAAAAAAAAAAAAIAEh/9oACAEBAAEFAhNP/8QAFBEBAAAAAAAAAAAAAAAAAAAAIP/aAAgBAwEBPwEf/8QAFBEBAAAAAAAAAAAAAAAAAAAAIP/aAAgBAgEBPwEf/8QAFBABAAAAAAAAAAAAAAAAAAAAMP/aAAgBAQAGPwIf/8QAGRAAAwADAAAAAAAAAAAAAAAAABEhIFGB/9oACAEBAAE/IRENkHeiw//aAAwDAQACAAMAAAAQNMgA/8QAFBEBAAAAAAAAAAAAAAAAAAAAIP/aAAgBAwEBPxAf/8QAFBEBAAAAAAAAAAAAAAAAAAAAIP/aAAgBAgEBPxAf/8QAHBABAAICAwEAAAAAAAAAAAAAAQARMZEQIVGB/9oACAEBAAE/EMrYagEvrRK8EpBU1nqKkAPAjqWhn7z/AP/Z'); background-size: cover; display: block;\"\n    ></span>\n    <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;\"\n        alt=\"GitHub secret\"\n        title=\"\"\n        src=\"/static/9f5efeb921c66776d7a9cbf7327984c3/b31e2/github-secret.jpg\"\n        srcset=\"/static/9f5efeb921c66776d7a9cbf7327984c3/f0518/github-secret.jpg 225w,\n/static/9f5efeb921c66776d7a9cbf7327984c3/b3492/github-secret.jpg 450w,\n/static/9f5efeb921c66776d7a9cbf7327984c3/b31e2/github-secret.jpg 790w\"\n        sizes=\"(max-width: 790px) 100vw, 790px\"\n      />\n  </span>\n  </a></p>\n<p>There you go, now you can run the GitHub action and your Azure Function will be deployed. Hopefully, this could be a useful alternative for deploying Azure Functions using GitHub Actions! </p>","timeToRead":4,"frontmatter":{"title":"Deploy Azure Functions with GitHub Actions using AzCopy","date":"October 15, 2021","spoiler":"Deploy Azure Functions directly to File Share"},"fields":{"slug":"/deploy-azure-functions-github-actions/","langKey":"en"}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/deploy-azure-functions-github-actions/","previous":{"fields":{"slug":"/nextjs-on-azure-functions/","langKey":"en","directoryName":"nextjs-on-azure-functions"},"frontmatter":{"title":"Next.js on Azure Functions"}},"next":{"fields":{"slug":"/sitecore-jss-on-azure-functions/","langKey":"en","directoryName":"sitecore-jss-on-azure-functions"},"frontmatter":{"title":"Sitecore JSS on Azure Functions"}},"translations":[],"translatedLinks":[]}}}
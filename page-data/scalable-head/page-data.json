{"componentChunkName":"component---src-templates-blog-post-js","path":"/scalable-head/","webpackCompilationHash":"f856a26329f2fd5ef59c","result":{"data":{"site":{"siteMetadata":{"title":"Erwin Smit blog","author":"Erwin Smit"}},"markdownRemark":{"id":"5db8856d-b293-5ef2-8d0f-c7541541c522","html":"<p>I recently worked on a headless project with Sitecore, the way of working I choose there worked really well in my opinion. In this post, I like to talk about the choices I made and how they helped the team create a good workflow.</p>\n<p>What do I mean by scalable in this context? By scalable I mean a few things:</p>\n<ul>\n<li>The head should be able to work with data model changes.</li>\n<li>The head should be able to perform well even if there are hundreds of different components in the application.</li>\n<li>The head should be able to look good in different color themes, different font sizes, different spacings, etc. </li>\n<li>The team that develops the head should be able to scale well, and new members should be able to easily integrate into the project without any domain or Sitecore knowledge.</li>\n</ul>\n<h2 id=\"monorepo\"><a href=\"#monorepo\" aria-label=\"monorepo permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Monorepo</h2>\n<p>Within the Monorepo I created a clear separation between UI components and the Sitecore JSS Next.js application.\nSee the following drawing:</p>\n<p><a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/4cc5e51babba04f891c54e6d65971ad5/96120/monorepo.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 900px;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 115.77028258887876%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAXCAIAAACEf/j0AAAACXBIWXMAAA7DAAAOwwHHb6hkAAACw0lEQVQ4y41U23KbMBDl/z+m04dO+uKHTDO51MaOnTg4bl0bEDGXABIS6IIAd4HEiR23k52FAUlnL2d3ZTRNU1VV3Ql873Y7+N19Tgytteu6CLlRFAVBUJalEAIMwV5vSynleZ7jOGma7hdfwPDoqlG6hjdEAL+c86buTjStNtWuVBosgptjz3Vd8dgqyaJMHyTzYUlKKWSxTZcBXUVs5We/coH70wUY5gKU5bmUyqgrTZxB4Q0E+s6TBfhmjNECX86/XFlfl9GPDbsKyaYLuCYksx6Xs/v5c5zmRWE0tU7Xg/j3t2xzxiJLKE0wSXAIsIV/vgwvnPzaDiwpgAtOMmo7yFo8OsjjQhhVpXk8r8hcxlOeoZ4hLvInbPnZcksePfyQ0oAXAraSJMkylqY4L7iQ0uh5gTJ1lWp56tluyXrjtSUiz/O+FkrKbq0xPlZPdoIhv4xmlGKSCSGBakIIWJcvyNdSHQmYB85uhqY5mW5s13a9MHru09m3wBu4ahpd160CAVpjnIZh+HNkXlxeTW5nDnra+gGUqG+BgzpLxtR6XTtOtV5ThJTWpVIQLfBpu2gNnh2UpKnqRHfyDkyIms2oacrxWNg2cARgYE+/CmTRdzvETCk98KwoBTAeDrlpcsfZg1vq2xJUzevAgBWM8fux6cJerSDmerWirsulBDBl7M/GdlwE2XpbP06SPmFgC/zvZ8OAL4hNlSVoP5WUZtFzbE5ux5PZ1g/dJ98PQtiHIsHuAfhjqYAY6KHx7fRmOJrdPwBnCHkZIWC6d/6/OrftyTmEmmAM7xgstQ2TQTND2geEfQS3F0tVy6KUMHY5WCoZZQBWUh3P8zG0SydPi+iOJHOGrSKaks3CUaU8cQ2dBBeYL8835tnd/WCJrsPEI6fvsH959kfpdpSgn2FgYuoXnwP3nHHFQiBNguaRELk8eewvDTcnussfEK8AAAAASUVORK5CYII='); background-size: cover; display: block;\"\n    ></span>\n    <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;\"\n        alt=\"Monorepo\"\n        title=\"\"\n        src=\"/static/4cc5e51babba04f891c54e6d65971ad5/05649/monorepo.png\"\n        srcset=\"/static/4cc5e51babba04f891c54e6d65971ad5/e9d1c/monorepo.png 225w,\n/static/4cc5e51babba04f891c54e6d65971ad5/80b02/monorepo.png 450w,\n/static/4cc5e51babba04f891c54e6d65971ad5/05649/monorepo.png 900w,\n/static/4cc5e51babba04f891c54e6d65971ad5/96120/monorepo.png 1097w\"\n        sizes=\"(max-width: 900px) 100vw, 900px\"\n      />\n  </span>\n  </a></p>\n<p>This monorepo is using NPM workspaces in combination with Turborepo, this works well but there are a lot of similar tools that achieve the same thing.\nWith monorepo’s it’s common to have <strong>packages</strong> and <strong>apps</strong>. Packages refer to internal codebases and apps are meant for applications that will be seen by a non-technical end-user. See the example from Turborepo for an <a href=\"https://turborepo.org/docs/getting-started/create-new#2-exploring-your-new-repo\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">excellent example</a>.</p>\n<p>In the drawing above we have a couple of apps and packages: </p>\n<ul>\n<li><strong>UI components</strong>, this is where the front-end developers create their React components in <a href=\"https://storybook.js.org/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Storybook</a> out of the context of the client’s project or Sitecore</li>\n<li><strong>Next.js corporate app</strong>, the Sitecore JSS Next.js SDK connecting to the Corporate JSS website setup in Sitecore. This app is depending on the UI components package.</li>\n<li><strong>Next.js career app</strong>, the same as above but pointing at a different website within Sitecore.</li>\n<li><strong>Apps/storefront</strong>, a fictional example of an app connected to <a href=\"https://ordercloud.io/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Sitecore Ordercloud</a>. This doesn’t exist (yet), but it explains the need of creating components that can work in all sorts of applications within the same monorepo.</li>\n</ul>\n<p>Why does a monorepo helps us scale?</p>\n<ul>\n<li>\n<p><strong>Connect multiple (Next.js) apps with UI components</strong>.\nThis architecture allows us to set up multiple apps consuming the same set of components and other sharable code.</p>\n</li>\n<li>\n<p><strong>Perfect for letting FE developer focus on small parts (without Sitecore experience).</strong>\nA front end developer might never have to leave Storybook. In fact, this might even help to create generic flexible components without project or Sitecore domain stuff built in.</p>\n</li>\n<li>\n<p><strong>Perfect for Sitecore devs to work on an app without having to worry about mark-up or styling.</strong>\nThey only have to worry about the contract, the difference between the data model from Sitecore and the property types set in the UI component. Just a bit of data-mapping instead of juggling HTML classes, divs and spans.  </p>\n</li>\n<li>\n<p><strong>Using npm workspaces with Turborepo. Ensures easy task management and fast builds.</strong>\nTurborepo uses caching for it’s builds. That means that it only builds packages/apps that have changes. So even when the monorepo is huge, it will still perform with fast build times.</p>\n</li>\n<li>\n<p><strong>Multiple apps / packages share the same node_modules.</strong>\nThe same node_modules are shared across the apps and packages when the versions are the same. So also the “npm install” should remain fast.</p>\n</li>\n</ul>\n<h2 id=\"component-system--css-js\"><a href=\"#component-system--css-js\" aria-label=\"component system  css js permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Component system / CSS JS</h2>\n<p>I’m a big fan of not re-inventing the wheel on simple components that exist on all projects (Accordion/Tabs etc). Although they are easily created from scratch I see a lot of examples that are built poorly or are not accessible. When using a base component system like <a href=\"https://mui.com/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">MUI</a> or <a href=\"https://reach.tech/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Reach</a> you don’t have to manually add the correct aria attributes and you’re ensured they work using the keyboard, screen reader, etc.</p>\n<p>For this project, I picked MUI as a base system for all our components. The components are great and easily customized (no it doesn’t have to look like material UI) but you also get a good theming system based on <a href=\"https://emotion.sh/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Emotion</a> (a styled component library). </p>\n<p>This theming system allows you to create consistency in the design implementation. And all this while using the IntelliSense of Typescript. </p>\n<p>Even when you don’t want to use any of the components from MUI I would still consider using it as an Emotion boilerplate. It works great with Next.js apps (including the Sitecore <a href=\"https://github.com/Sitecore/jss/tree/dev/packages/sitecore-jss-nextjs\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">JSS Next.js SDK</a>). The CSS is automatically code-split, meaning that you can have 100s of components in your application but still a small CSS/JS bundle for the end-user. </p>\n<h2 id=\"rules-of-engagement\"><a href=\"#rules-of-engagement\" aria-label=\"rules of engagement permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Rules of engagement</h2>\n<p>Couple of rules I use on this project.</p>\n<h3 id=\"build-your-component-with-theme-variables-support-for-multiple-themes\"><a href=\"#build-your-component-with-theme-variables-support-for-multiple-themes\" aria-label=\"build your component with theme variables support for multiple themes permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Build your component with theme variables (support for multiple themes)</h3>\n<p><a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/4e4ae40024992d47114d327a2420621b/76064/theme-variables.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 900px;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 77.25426482534526%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAIAAABr+ngCAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABlUlEQVQoz5WT2W7cMAxF5zOasbWSFLV5jT2TNi2Q5f//qZSBeeiD05YgDMrWFY+u5It3vm73Oi/eobHWW2P0v8bFicBBGp/juHiAORJ41yuttFYt/iZOZR5vr3V/SfOGhG05a501/ijMV2JnQ8l5ved1L+udOGaCKXFhGiJVJu/cqVhQgYIxru+6I6+9Un2LrpO667Tq9Qn9xTrH687bzRBAiJgKI4TAlGrIA8bsQrYYTzo7i+Nc3t5p3yEwcpI3woKcRSlDC8E4PPo3JvUIsVT27KBm3BdYR4gJQmLECNZTkDWAU8g1lAGkvyQlZFmXkbx1vnWmea0fn/XtHfMAHEmwwXtij0HEeKQMBcEig3wWqXdyKS5WTgXAJbYxaKO7p2/NqcMwKdT1SfXXg7Z/kP+B7XnaysvrdPuxb5sYJlaRdCPGEF2ePQSt1dk5i9zDUPj7LS3PsUzNJ4ogzILKVTZwelRelHK993v9+YunJZRRtizMjazv1VGcXxIRExjwMpDZj/fmSHl89Zs0w4zMaDKl/zN+A8imeBbyIYcxAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n    ></span>\n    <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;\"\n        alt=\"Theme variables\"\n        title=\"\"\n        src=\"/static/4e4ae40024992d47114d327a2420621b/05649/theme-variables.png\"\n        srcset=\"/static/4e4ae40024992d47114d327a2420621b/e9d1c/theme-variables.png 225w,\n/static/4e4ae40024992d47114d327a2420621b/80b02/theme-variables.png 450w,\n/static/4e4ae40024992d47114d327a2420621b/05649/theme-variables.png 900w,\n/static/4e4ae40024992d47114d327a2420621b/76064/theme-variables.png 1231w\"\n        sizes=\"(max-width: 900px) 100vw, 900px\"\n      />\n  </span>\n  </a>\nAvoid hard-coded spacing units and colors as much as possible. This way the components can be globally adjusted to be used in all sorts of contexts. </p>\n<h3 id=\"never-use-mark-up-or-styling-in-client-facing-app\"><a href=\"#never-use-mark-up-or-styling-in-client-facing-app\" aria-label=\"never use mark up or styling in client facing app permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Never use mark-up or styling in client-facing app</h3>\n<p><a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/a30e58c16066ba17be89ffffd828533f/5a7b6/no-markup-or-styling.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 900px;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 51.52761457109284%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAIAAAA7N+mxAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABfElEQVQoz4WRy26kMBBF+z8av8sPbGwM2ICB7nRP1JpN/v97YqJoNNEs5qgWtxbXrqp7UZzlZRx7n+cpj8Oj3LY+P8u+xTQQ0mOUGB0pCQgJhPBPLgE1d1CldW9xeF/Kaz9++falxW/JX8CenH5YWds7asK1IRjXwuTkNDPKgJC2911ZfVndktqyyDxQLblVoARBmDSYXJsrwleEmsq1NlWiC6WUUKJciLf3UO799tblIoZk5yE8Hva427yZaXGd7DUfnLbOdCnFZQEpTnNFWqtjNs76eQ3lZqfVpzlO/ejMEoPzbljyMM+m1YwzDkIAUEZPM6twTkEQwZiSrL6pNFdaApecSClBGzAWlGKU1qvV2ev0VfwxM8iT2Va1Jj2OPm/9/uy6TguqwuDnYuJkjdHA/774t5kSAiG6/bDz3OYsdavDhLlszh++L3TKn2l9mevOrYYc4chiT/JI3FuMG9yc2ZzpkK/6h0tNDOpaMTMJhDHCORGCVk0p/h+f811bBQcT72IAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n    ></span>\n    <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;\"\n        alt=\"No mark-up or styling\"\n        title=\"\"\n        src=\"/static/a30e58c16066ba17be89ffffd828533f/05649/no-markup-or-styling.png\"\n        srcset=\"/static/a30e58c16066ba17be89ffffd828533f/e9d1c/no-markup-or-styling.png 225w,\n/static/a30e58c16066ba17be89ffffd828533f/80b02/no-markup-or-styling.png 450w,\n/static/a30e58c16066ba17be89ffffd828533f/05649/no-markup-or-styling.png 900w,\n/static/a30e58c16066ba17be89ffffd828533f/572e0/no-markup-or-styling.png 1350w,\n/static/a30e58c16066ba17be89ffffd828533f/5a7b6/no-markup-or-styling.png 1702w\"\n        sizes=\"(max-width: 900px) 100vw, 900px\"\n      />\n  </span>\n  </a>\nDon’t add class names or styling to the React components within you’re Sitecore consuming Next.js apps. The whole point of this setup is to have a clear separation between UI components and Sitecore-related stuff. If this is done anyway, the design system created in Storybook is not leading anymore.</p>\n<h3 id=\"use-graphql-aliases-where-possible\"><a href=\"#use-graphql-aliases-where-possible\" aria-label=\"use graphql aliases where possible permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Use Graphql aliases where possible</h3>\n<p><span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 900px;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 84.90878938640132%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAARCAIAAABSJhvpAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABlklEQVQ4y51Sy5KbMBDk/3z3IXvZlM/+IX+A/yVPx3EOyTq1YTesEBKvQWBAQiItSKp2q7KxN32A0UDPdM8o2G63y+VytVqt1+ub4zEMw6qq6G8oiSoqyvTBv4mEEMFms1ksFlevrl5fX+/3+8PhIJ6FTHjEf94gwAFtAsYYoniCmoCqc/PqKcgn8VSzEGSCrutGDze+HEE7wZetlDFDe2oRnYCmQXmlfE80oBIgpHEsikKp2lob4IwX1RTnLM7YXXQXRVGapqiIT3PpvtdNXcNR3/czH0lPbpoGAhLHdunbD/LN1/SLjIWUEo3wxxnZM3kYTdqK48M3FjPO+J9BjBeR55EhTnJsI8L8a6/TDwLOT89I+E1207RDc/yUvjvQLhYx5zxJeJZlMKmNOU9WlkK6DbMfZjDDBGvdRbLBN3p40b4fkZ3rdVf3qmpJFrIscJcpz3NVK2zlvOzMCXjexe8/00cuE5H4awvvmJ/W+p/THsfOtfdVeJt9L11u7eTZ27bGGOg6I1v3+j89Q5iZVgIL7rIavwD6f8qSlv5b4wAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n    ></span>\n    <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;\"\n        alt=\"Graphql Alias\"\n        title=\"\"\n        src=\"/static/9592d274e70ca2ba5b715e937a6f943f/05649/graphql-alias.png\"\n        srcset=\"/static/9592d274e70ca2ba5b715e937a6f943f/e9d1c/graphql-alias.png 225w,\n/static/9592d274e70ca2ba5b715e937a6f943f/80b02/graphql-alias.png 450w,\n/static/9592d274e70ca2ba5b715e937a6f943f/05649/graphql-alias.png 900w,\n/static/9592d274e70ca2ba5b715e937a6f943f/ce5b6/graphql-alias.png 1206w\"\n        sizes=\"(max-width: 900px) 100vw, 900px\"\n      />\n  </span>\nWhen Graphql queries, <a href=\"https://doc.sitecore.com/xp/en/developers/hd/190/sitecore-headless-development/integrated-graphql-in-jss-apps.html\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">integrated or connected</a>, the rendering will be more future-proof if aliases are used. If the property names change in the future, the rendering component will still work. Only the query will need to be changed.</p>\n<h2 id=\"connect-component-to-sitecore\"><a href=\"#connect-component-to-sitecore\" aria-label=\"connect component to sitecore permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Connect component to Sitecore</h2>\n<p>Now when all the above is done, it’s very easy to create a React rendering for Sitecore.\nOn the project, we specifically refer to <strong>React renderings</strong> within the Sitecore Next.js app. The components with the UI component package are called just components. This prevents confusion. </p>\n<ol>\n<li>\n<p><strong>Create a component within the JSS Next.js app as specified in Sitecore</strong>\n<a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/829a2e817424ebe9d73f94531fbdf7f4/1baec/component-name.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 841px;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 40.78478002378121%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAIAAAB2/0i6AAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAwElEQVQY05XPPw6CMBQG8B5MDsDiBWpYZTfxEsaDoAkl3kDP4ACBQSCAC1j6B4IC9aGTiRj5Ja9L+70vRYftxsB4aZrGdGi3Xs11HS+wpmmzidD5dNxblk1shziEEAeQgQ3e5zjEpORCUErLlxuglHNeASnrum7bxxhU5HkURZ7nBX7g+zCB63pheEmSJI7jLLsWBTz5DsEddECDEKJpmq7r2o+u+w9DGJKwPE1TWVVKqb5XfxrC8FWolVIyxsopnjCWbPTlNLMlAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n    ></span>\n    <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;\"\n        alt=\"Component name Sitecore\"\n        title=\"\"\n        src=\"/static/829a2e817424ebe9d73f94531fbdf7f4/1baec/component-name.png\"\n        srcset=\"/static/829a2e817424ebe9d73f94531fbdf7f4/e9d1c/component-name.png 225w,\n/static/829a2e817424ebe9d73f94531fbdf7f4/80b02/component-name.png 450w,\n/static/829a2e817424ebe9d73f94531fbdf7f4/1baec/component-name.png 841w\"\n        sizes=\"(max-width: 841px) 100vw, 841px\"\n      />\n  </span>\n  </a></p>\n</li>\n<li>\n<p><strong>Component should get registered in the componentFactory.ts file automatically (using Sitecore JSS Bootstrap script)</strong>\n<a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/17a5e35826c8c2bfa0f60f920bf516e6/9c1da/component-factory.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 900px;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 19.38296445338699%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAIAAAABPYjBAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAk0lEQVQI13WNQQ7CMAwE+w/aJl6vTdMUCqKCC+L/z8IJZ1ajaKJ4nUEizLZq4LWdPAsLuMDiWjXEK22lFRXNGSkISTkN0VVACVVYcTMlha5mcIdbvEnvZGhuEkiTJL286Dkm41Pb7mRb4EiFuho3JyHTNM+dqfPzyABALocen/J6X/dtr3V53PbnIcincRynPvUnX+oQIQtpwTF/AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n    ></span>\n    <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;\"\n        alt=\"Component factory\"\n        title=\"\"\n        src=\"/static/17a5e35826c8c2bfa0f60f920bf516e6/05649/component-factory.png\"\n        srcset=\"/static/17a5e35826c8c2bfa0f60f920bf516e6/e9d1c/component-factory.png 225w,\n/static/17a5e35826c8c2bfa0f60f920bf516e6/80b02/component-factory.png 450w,\n/static/17a5e35826c8c2bfa0f60f920bf516e6/05649/component-factory.png 900w,\n/static/17a5e35826c8c2bfa0f60f920bf516e6/572e0/component-factory.png 1350w,\n/static/17a5e35826c8c2bfa0f60f920bf516e6/9c1da/component-factory.png 1491w\"\n        sizes=\"(max-width: 900px) 100vw, 900px\"\n      />\n  </span>\n  </a></p>\n</li>\n<li>\n<p><strong>Now, within the React rendering, refer to the component from the “UI components” package, map the properties from Sitecore to the model used in UI components and it’s done!</strong>\n<a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/d454baa84b72aa02cfc34e81ee5b2164/303fa/finished-rendering.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 900px;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 62.45802552048355%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAIAAADtbgqsAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABoklEQVQoz41R7Y7cIAzMa1w2BIyBYAghH7v56LbVndpKff8nqsnl1Ou/DiNkArYn4yp0aY/zMOfp68+8bNPxbUxponTk+GWMS/BL9N5i35noDIASohXthSpY2tM63B/3t9/T/py5ENEc/DP3a0/BWVAMKdtWSsmBVkpfH9rKaC4ZuhhpelCefZpcys6ZDh2dDcmWnqHENjgM5xE1lGQJqFwnvZXOSgTpnSQHnWVthYwreOeFS7YEg77PQwhkKUSXgssJvNNWK65CnrWqtnl/L8v6ICcrAJseNG3DftD6PW37fXuwc11MLsSu5733/WAQLWohmvakaG5nMhtAGfKG+y9cX838DMs6Hq8uzcZ1Oo44LGbckAFgbABKEDL2CwJWSrI6MsbxHzX1i7jVDdcVp8ailRUqwTx1F5tBF2pk8yu+tJ7y24+4Hj4vftpsmnQgiB6Ch0hgtbGGx6G0Fn+ta07DpERtaFjCeLcsMq+YFmmcBG4ChdyNFwenSZ9RoVYaoK5fbnXNFKyczfiYzMn283j+SdagjGYzDO/WmjKXVrb/hz8MOGaolaYzvwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n    ></span>\n    <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;\"\n        alt=\"Finished rendering\"\n        title=\"\"\n        src=\"/static/d454baa84b72aa02cfc34e81ee5b2164/05649/finished-rendering.png\"\n        srcset=\"/static/d454baa84b72aa02cfc34e81ee5b2164/e9d1c/finished-rendering.png 225w,\n/static/d454baa84b72aa02cfc34e81ee5b2164/80b02/finished-rendering.png 450w,\n/static/d454baa84b72aa02cfc34e81ee5b2164/05649/finished-rendering.png 900w,\n/static/d454baa84b72aa02cfc34e81ee5b2164/572e0/finished-rendering.png 1350w,\n/static/d454baa84b72aa02cfc34e81ee5b2164/303fa/finished-rendering.png 1489w\"\n        sizes=\"(max-width: 900px) 100vw, 900px\"\n      />\n  </span>\n  </a></p>\n</li>\n</ol>","timeToRead":6,"frontmatter":{"title":"Create a scalable head for Sitecore JSS","date":"September 26, 2022","spoiler":"Building a scalable Head in headless world"},"fields":{"slug":"/scalable-head/","langKey":"en"}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/scalable-head/","previous":{"fields":{"slug":"/can-we-keep-up-with-vercel/","langKey":"en","directoryName":"can-we-keep-up-with-vercel"},"frontmatter":{"title":"Can we keep up with Vercel?"}},"next":{"fields":{"slug":"/auto-format-typescript-npm-task/","langKey":"en","directoryName":"auto-format-typescript-npm-task"},"frontmatter":{"title":"Auto-format typescript with a npm task"}},"translations":[],"translatedLinks":[]}}}
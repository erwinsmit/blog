4:"$Sreact.fragment"
5:I[7256,["231","static/chunks/231-015614b9a59ae6eb.js","173","static/chunks/173-e6c8bf506bfb93ff.js","185","static/chunks/app/layout-28f46ae9c6a8b2dc.js"],"default"]
6:I[9275,[],""]
7:I[1343,[],""]
8:I[4703,["231","static/chunks/231-015614b9a59ae6eb.js","160","static/chunks/app/not-found-081a5836cd82c2ca.js"],"default"]
a:I[3120,[],"OutletBoundary"]
c:I[3120,[],"MetadataBoundary"]
e:I[3120,[],"ViewportBoundary"]
10:I[6130,[],""]
1:HL["/_next/static/media/a34f9d1faa5f3315-s.p.woff2","font",{"crossOrigin":"","type":"font/woff2"}]
2:HL["/_next/static/css/0f5f8cc0eb7d6afc.css","style"]
3:HL["/_next/static/css/3a398bc4ce4edcc7.css","style"]
0:{"P":null,"b":"qbAWKY8PVw4b-TN6TLmIA","p":"","c":["","blog","add-external-datasource-to-sitecore-jss"],"i":false,"f":[[["",{"children":["blog",{"children":[["slug","add-external-datasource-to-sitecore-jss","d"],{"children":["__PAGE__?{\"slug\":\"add-external-datasource-to-sitecore-jss\"}",{}]}]}]},"$undefined","$undefined",true],["",["$","$4","c",{"children":[[["$","link","0",{"rel":"stylesheet","href":"/_next/static/css/0f5f8cc0eb7d6afc.css","precedence":"next","crossOrigin":"$undefined","nonce":"$undefined"}]],["$","html",null,{"lang":"en","children":[["$","head",null,{"children":[["$","link",null,{"rel":"apple-touch-icon","sizes":"180x180","href":"/favicon/apple-touch-icon.png"}],["$","link",null,{"rel":"icon","type":"image/png","sizes":"32x32","href":"/favicon/favicon-32x32.png"}],["$","link",null,{"rel":"icon","type":"image/png","sizes":"16x16","href":"/favicon/favicon-16x16.png"}],["$","link",null,{"rel":"manifest","href":"/favicon/site.webmanifest"}],["$","link",null,{"rel":"mask-icon","href":"/favicon/safari-pinned-tab.svg","color":"#000000"}],["$","link",null,{"rel":"shortcut icon","href":"/favicon/favicon.ico"}],["$","meta",null,{"name":"msapplication-TileColor","content":"#000000"}],["$","meta",null,{"name":"msapplication-config","content":"/favicon/browserconfig.xml"}],["$","meta",null,{"name":"theme-color","content":"#000"}],["$","link",null,{"rel":"alternate","type":"application/rss+xml","href":"/feed.xml"}]]}],["$","body",null,{"className":"bg-gray-100 [object Object]","children":[["$","$L5",null,{}],["$","main",null,{"className":"min-h-screen","children":["$","$L6",null,{"parallelRouterKey":"children","segmentPath":["children"],"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L7",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":["$","$L8",null,{}],"notFoundStyles":[]}]}],["$","section",null,{"className":"bg-gray-800 text-white py-12","children":["$","div",null,{"className":"container mx-auto px-4 text-center","children":[["$","h2",null,{"className":"text-2xl font-bold mb-6","id":"connect","children":"Connect With Me"}],["$","div",null,{"className":"flex justify-center space-x-6","children":[["$","a",null,{"href":"https://github.com/erwinsmit","target":"_blank","rel":"noopener noreferrer","className":"hover:text-blue-400 transition-colors","children":[["$","svg",null,{"ref":"$undefined","xmlns":"http://www.w3.org/2000/svg","width":32,"height":32,"viewBox":"0 0 24 24","fill":"none","stroke":"currentColor","strokeWidth":2,"strokeLinecap":"round","strokeLinejoin":"round","className":"lucide lucide-github","children":[["$","path","tonef",{"d":"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4"}],["$","path","9comsn",{"d":"M9 18c-4.51 2-5-2-7-2"}],"$undefined"]}],["$","span",null,{"className":"sr-only","children":"GitHub"}]]}],["$","a",null,{"href":"https://www.linkedin.com/in/erwin-smit-40957840/","target":"_blank","rel":"noopener noreferrer","className":"hover:text-blue-400 transition-colors","children":[["$","svg",null,{"ref":"$undefined","xmlns":"http://www.w3.org/2000/svg","width":32,"height":32,"viewBox":"0 0 24 24","fill":"none","stroke":"currentColor","strokeWidth":2,"strokeLinecap":"round","strokeLinejoin":"round","className":"lucide lucide-linkedin","children":[["$","path","c2jq9f",{"d":"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"}],["$","rect","mk3on5",{"width":"4","height":"12","x":"2","y":"9"}],["$","circle","bt5ra8",{"cx":"4","cy":"4","r":"2"}],"$undefined"]}],["$","span",null,{"className":"sr-only","children":"LinkedIn"}]]}]]}]]}]}]]}]]}]]}],{"children":["blog",["$","$4","c",{"children":[null,["$","$L6",null,{"parallelRouterKey":"children","segmentPath":["children","blog","children"],"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L7",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","notFoundStyles":"$undefined"}]]}],{"children":[["slug","add-external-datasource-to-sitecore-jss","d"],["$","$4","c",{"children":[null,["$","$L6",null,{"parallelRouterKey":"children","segmentPath":["children","blog","children","$0:f:0:1:2:children:2:children:0","children"],"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L7",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","notFoundStyles":"$undefined"}]]}],{"children":["__PAGE__",["$","$4","c",{"children":["$L9",[["$","link","0",{"rel":"stylesheet","href":"/_next/static/css/3a398bc4ce4edcc7.css","precedence":"next","crossOrigin":"$undefined","nonce":"$undefined"}]],["$","$La",null,{"children":"$Lb"}]]}],{},null]},null]},null]},null],["$","$4","h",{"children":[null,["$","$4","ucJQk36DVGSzk3bRVV86_",{"children":[["$","$Lc",null,{"children":"$Ld"}],["$","$Le",null,{"children":"$Lf"}],["$","meta",null,{"name":"next-size-adjust"}]]}]]}]]],"m":"$undefined","G":["$10","$undefined"],"s":false,"S":true}
9:["$","article",null,{"className":"max-w-7xl mx-auto px-8 my-12","children":[["$","h1",null,{"className":"w-full relative mb-8 text-6xl font-extrabold tracking-normal text-center title-font","children":["$","span",null,{"className":"bg-clip-text text-transparent bg-gradient-to-b from-blue-600 to-blue-500","children":"Add external datasource to Sitecore JSS"}]}],["$","div",null,{"className":"flex items-center justify-center mb-16","children":["$","p",null,{"className":"text-base font-medium text-gray-600 group-hover:text-gray-800","children":["$","time",null,{"dateTime":"2021-11-23","children":"November\t23, 2021"}]}]}],["$","div",null,{"className":"prose lg:prose-xl max-w-none prose-pre:p-0","children":[["$","h2","h2-0",{"children":"Sitecore JSS GraphQL out of the box"}],"\n",["$","p","p-0",{"children":["The Sitecore JSS Next.js SDK has great built-in ",["$","a","a-0",{"href":"https://doc.sitecore.com/en/developers/hd/190/sitecore-headless-development/use-graphql-to-fetch-component-level-data-in-jss-next-js-apps.html","children":"tooling"}]," for querying the Sitecore GraphQL endpoint.\nIn this blog post, I will explain how to use the same tooling but for external data sources."]}],"\n",["$","h2","h2-1",{"children":"Consume external Graphql API"}],"\n",["$","p","p-1",{"children":["For demo purposes, I picked the excellent API from GitHub. This is free to use, the only thing you need is a ",["$","a","a-0",{"href":"https://docs.github.com/en/authentication/keeping-your-account-and-data-secure/creating-a-personal-access-token","children":"personal access token"}],". When that's all set up you can use the ",["$","a","a-1",{"href":"https://docs.github.com/en/graphql/overview/explorer","children":"explorer"}]," to explore all the data you can fetch."]}],"\n",["$","h3","h3-0",{"children":"Extend introspection script"}],"\n",["$","p","p-2",{"children":["Sitecore JSS uses ",["$","a","a-0",{"href":"https://github.com/piglovesyou/graphql-let","children":"graphql-let"}]," for automatically generating types for the GraphQL results. A .graphql file is automatically picked up by this tool. It analyses the query and as a result, generates a .d.ts file next to it.\nWith this .d.ts file you can import the required types:"]}],"\n",["$","pre","pre-0",{"children":["$","code","code-0",{"className":"hljs language-javascript","children":[["$","span","span-0",{"className":"hljs-keyword","children":"import"}]," { ",["$","span","span-1",{"className":"hljs-title class_","children":"GithubUserSearchQuery"}]," } ",["$","span","span-2",{"className":"hljs-keyword","children":"from"}]," ",["$","span","span-3",{"className":"hljs-string","children":"\"./userSearch.github.graphql\""}],";\n"]}]}],"\n",["$","p","p-3",{"children":["Before this is possible graphql-let needs an introspection schema. The schema is created by the ",["$","a","a-0",{"href":"https://doc.sitecore.com/en/developers/hd/190/sitecore-headless-development/introspecting-the-graphql-schema-in-jss-next-js-apps.html","children":"graphl-update"}]," task."]}],"\n",["$","p","p-4",{"children":["To add the GitHub introspection schema we need to extend the script ",["$","code","code-0",{"children":"scripts\\fetch-graphql-introspection-data.ts"}]," with an introspection call to the GitHub GraphQL endpoint:"]}],"\n",["$","pre","pre-1",{"children":["$","code","code-0",{"className":"hljs language-javascript","children":["(",["$","span","span-0",{"className":"hljs-keyword","children":"async"}]," ",["$","span","span-1",{"className":"hljs-keyword","children":"function"}]," (",["$","span","span-2",{"className":"hljs-params"}],") {\n  ",["$","span","span-3",{"className":"hljs-keyword","children":"try"}]," {\n    ",["$","span","span-4",{"className":"hljs-keyword","children":"const"}]," introSpectionQuery = {};\n\n    ",["$","span","span-5",{"className":"hljs-keyword","children":"const"}]," githubResults = ",["$","span","span-6",{"className":"hljs-keyword","children":"await"}]," ",["$","span","span-7",{"className":"hljs-title function_","children":"fetch"}],"(",["$","span","span-8",{"className":"hljs-string","children":"\"https://api.github.com/graphql\""}],", {\n      ",["$","span","span-9",{"className":"hljs-attr","children":"method"}],": ",["$","span","span-10",{"className":"hljs-string","children":"\"POST\""}],",\n      ",["$","span","span-11",{"className":"hljs-attr","children":"headers"}],": {\n        ",["$","span","span-12",{"className":"hljs-string","children":"\"Content-Type\""}],": ",["$","span","span-13",{"className":"hljs-string","children":"\"application/json\""}],",\n        ",["$","span","span-14",{"className":"hljs-title class_","children":"Authorization"}],": ",["$","span","span-15",{"className":"hljs-string","children":["`bearer ",["$","span","span-0",{"className":"hljs-subst","children":"$${process.env.GHUB_PRIVATE_KEY}"}],"`"]}],",\n      },\n      ",["$","span","span-16",{"className":"hljs-attr","children":"body"}],": ",["$","span","span-17",{"className":"hljs-title class_","children":"JSON"}],".",["$","span","span-18",{"className":"hljs-title function_","children":"stringify"}],"(introSpectionQuery),\n    });\n\n    ",["$","span","span-19",{"className":"hljs-keyword","children":"const"}]," githubData = ",["$","span","span-20",{"className":"hljs-keyword","children":"await"}]," githubResults.",["$","span","span-21",{"className":"hljs-title function_","children":"json"}],"();\n    fs.",["$","span","span-22",{"className":"hljs-title function_","children":"writeFile"}],"(",["$","span","span-23",{"className":"hljs-string","children":"\"./src/temp/GraphQLIntrospectionResultGithub.json\""}],", ",["$","span","span-24",{"className":"hljs-title class_","children":"JSON"}],".",["$","span","span-25",{"className":"hljs-title function_","children":"stringify"}],"(githubData, ",["$","span","span-26",{"className":"hljs-literal","children":"null"}],", ",["$","span","span-27",{"className":"hljs-number","children":"2"}],"), ",["$","span","span-28",{"className":"hljs-function","children":["(",["$","span","span-0",{"className":"hljs-params","children":"err"}],") =>"]}]," {\n      ",["$","span","span-29",{"className":"hljs-keyword","children":"if"}]," (err) {\n        ",["$","span","span-30",{"className":"hljs-variable language_","children":"console"}],".",["$","span","span-31",{"className":"hljs-title function_","children":"error"}],"(",["$","span","span-32",{"className":"hljs-string","children":"\"Error writing GraphQLIntrospectionResultGithub file\""}],", err);\n        ",["$","span","span-33",{"className":"hljs-keyword","children":"return"}],";\n      }\n\n      ",["$","span","span-34",{"className":"hljs-variable language_","children":"console"}],".",["$","span","span-35",{"className":"hljs-title function_","children":"log"}],"(",["$","span","span-36",{"className":"hljs-string","children":"\"GraphQL Github Introspection Data successfully fetched!\""}],");\n    });\n  } ",["$","span","span-37",{"className":"hljs-keyword","children":"catch"}]," (e) {\n    ",["$","span","span-38",{"className":"hljs-variable language_","children":"console"}],".",["$","span","span-39",{"className":"hljs-title function_","children":"error"}],"(e);\n    process.",["$","span","span-40",{"className":"hljs-title function_","children":"exit"}],"(",["$","span","span-41",{"className":"hljs-number","children":"1"}],");\n  }\n})();\n"]}]}],"\n",["$","p","p-5",{"children":["I used this ",["$","a","a-0",{"href":"https://gist.github.com/craigbeck/b90915d49fda19d5b2b17ead14dcd6da","children":"introspection query"}]," to get all the required types.\nNow when you run ",["$","strong","strong-0",{"children":"npm run update:graphql"}]," you get a nice big schema with all the types from the GitHub GraphQL API."]}],"\n",["$","h3","h3-1",{"children":"Add additional graphql-let configuration file"}],"\n",["$","p","p-6",{"children":["To point graphql-let to this schema file I've added this file to the root of the project ",["$","strong","strong-0",{"children":".graphql-let-github"}]]}],"\n",["$","pre","pre-2",{"children":["$","code","code-0",{"className":"hljs language-yml","children":[["$","span","span-0",{"className":"hljs-attr","children":"schema:"}],"\n  ",["$","span","span-1",{"className":"hljs-bullet","children":"-"}]," ",["$","span","span-2",{"className":"hljs-string","children":"\"./src/temp/GraphQLIntrospectionResultGithub.json\""}],"\n",["$","span","span-3",{"className":"hljs-attr","children":"documents:"}]," ",["$","span","span-4",{"className":"hljs-string","children":"\"src/**/*.github.graphql\""}],"\n",["$","span","span-5",{"className":"hljs-attr","children":"plugins:"}],"\n  ",["$","span","span-6",{"className":"hljs-bullet","children":"-"}]," ",["$","span","span-7",{"className":"hljs-string","children":"typescript"}],"\n  ",["$","span","span-8",{"className":"hljs-bullet","children":"-"}]," ",["$","span","span-9",{"className":"hljs-string","children":"typescript-operations"}],"\n  ",["$","span","span-10",{"className":"hljs-bullet","children":"-"}]," ",["$","span","span-11",{"className":"hljs-string","children":"typed-document-node"}],"\n\n",["$","span","span-12",{"className":"hljs-attr","children":"cacheDir:"}]," ",["$","span","span-13",{"className":"hljs-string","children":".generated"}],"\n",["$","span","span-14",{"className":"hljs-attr","children":"config:"}],"\n  ",["$","span","span-15",{"className":"hljs-attr","children":"useIndexSignature:"}]," ",["$","span","span-16",{"className":"hljs-literal","children":"true"}],"\n"]}]}],"\n",["$","p","p-7",{"children":["Change the ",["$","strong","strong-0",{"children":"bootstrap"}]," npm script to:"]}],"\n",["$","pre","pre-3",{"children":["$","code","code-0",{"className":"hljs language-json","children":[["$","span","span-0",{"className":"hljs-attr","children":"\"bootstrap\""}],["$","span","span-1",{"className":"hljs-punctuation","children":":"}]," ",["$","span","span-2",{"className":"hljs-string","children":"\"ts-node --project tsconfig.scripts.json scripts/bootstrap.ts && graphql-let && graphql-let --config .graphql-let-github.yml\""}],"\n"]}]}],"\n",["$","p","p-8",{"children":["This generates all the types when running ",["$","strong","strong-0",{"children":"npm start"}]]}],"\n",["$","p","p-9",{"children":["To also receive updated types while you're actively developing update ",["$","strong","strong-0",{"children":"next.config.js"}]," with the following lines:"]}],"\n",["$","pre","pre-4",{"children":["$","code","code-0",{"className":"hljs language-javascript","children":[["$","span","span-0",{"className":"hljs-keyword","children":"const"}]," ",["$","span","span-1",{"className":"hljs-title function_","children":"applyGraphQLCodeGenerationLoaders"}]," = (",["$","span","span-2",{"className":"hljs-params","children":"config, options"}],") => {\n  config.",["$","span","span-3",{"className":"hljs-property","children":"module"}],".",["$","span","span-4",{"className":"hljs-property","children":"rules"}],".",["$","span","span-5",{"className":"hljs-title function_","children":"push"}],"({\n    ",["$","span","span-6",{"className":"hljs-attr","children":"test"}],": ",["$","span","span-7",{"className":"hljs-regexp","children":"/\\.sitecore.graphql$/"}],",\n    ",["$","span","span-8",{"className":"hljs-attr","children":"exclude"}],": ",["$","span","span-9",{"className":"hljs-regexp","children":"/node_modules/"}],",\n    ",["$","span","span-10",{"className":"hljs-attr","children":"use"}],": [options.",["$","span","span-11",{"className":"hljs-property","children":"defaultLoaders"}],".",["$","span","span-12",{"className":"hljs-property","children":"babel"}],", { ",["$","span","span-13",{"className":"hljs-attr","children":"loader"}],": ",["$","span","span-14",{"className":"hljs-string","children":"'graphql-let/loader'"}]," }],\n  })\n\n  config.",["$","span","span-15",{"className":"hljs-property","children":"module"}],".",["$","span","span-16",{"className":"hljs-property","children":"rules"}],".",["$","span","span-17",{"className":"hljs-title function_","children":"push"}],"({\n    ",["$","span","span-18",{"className":"hljs-attr","children":"test"}],": ",["$","span","span-19",{"className":"hljs-regexp","children":"/\\.github.graphql$/"}],",\n    ",["$","span","span-20",{"className":"hljs-attr","children":"exclude"}],": ",["$","span","span-21",{"className":"hljs-regexp","children":"/node_modules/"}],",\n    ",["$","span","span-22",{"className":"hljs-attr","children":"use"}],": [options.",["$","span","span-23",{"className":"hljs-property","children":"defaultLoaders"}],".",["$","span","span-24",{"className":"hljs-property","children":"babel"}],", { ",["$","span","span-25",{"className":"hljs-attr","children":"loader"}],": ",["$","span","span-26",{"className":"hljs-string","children":"'graphql-let/loader'"}],", ",["$","span","span-27",{"className":"hljs-attr","children":"options"}],": { ",["$","span","span-28",{"className":"hljs-attr","children":"configFile"}],": ",["$","span","span-29",{"className":"hljs-string","children":"\".graphql-let-github.yml\""}]," } }],\n  })\n"]}]}],"\n",["$","p","p-10",{"children":["As you see I suffix the Sitecore GraphQL queries with ",["$","strong","strong-0",{"children":".sitecore.graphql"}]," and the GitHub queries with ",["$","strong","strong-1",{"children":".github.graphql"}],". Because both types of queries have their own configuration."]}],"\n",["$","h3","h3-2",{"children":"Add a query to a component"}],"\n",["$","p","p-11",{"children":["Now that's all in place we can add some GraphQL data to a component. Next to the component that will consume the data, we will create ",["$","strong","strong-0",{"children":"userSearch.github.graphql"}],":"]}],"\n",["$","pre","pre-5",{"children":["$","code","code-0",{"className":"hljs language-graphql","children":[["$","span","span-0",{"className":"hljs-keyword","children":"query"}]," githubUserSearch",["$","span","span-1",{"className":"hljs-punctuation","children":"("}],["$","span","span-2",{"className":"hljs-variable","children":"$$organisation"}],": String",["$","span","span-3",{"className":"hljs-punctuation","children":"!"}],["$","span","span-4",{"className":"hljs-punctuation","children":")"}]," ",["$","span","span-5",{"className":"hljs-punctuation","children":"{"}],"\n  organization",["$","span","span-6",{"className":"hljs-punctuation","children":"("}],["$","span","span-7",{"className":"hljs-symbol","children":"login"}],["$","span","span-8",{"className":"hljs-punctuation","children":":"}]," ",["$","span","span-9",{"className":"hljs-variable","children":"$$organisation"}],") ",["$","span","span-10",{"className":"hljs-punctuation","children":"{"}],"\n    membersWithRole",["$","span","span-11",{"className":"hljs-punctuation","children":"("}],["$","span","span-12",{"className":"hljs-symbol","children":"first"}],["$","span","span-13",{"className":"hljs-punctuation","children":":"}]," ",["$","span","span-14",{"className":"hljs-number","children":"100"}],["$","span","span-15",{"className":"hljs-punctuation","children":")"}]," ",["$","span","span-16",{"className":"hljs-punctuation","children":"{"}],"\n      nodes ",["$","span","span-17",{"className":"hljs-punctuation","children":"{"}],"\n        ",["$","span","span-18",{"className":"hljs-punctuation","children":"..."}]," ",["$","span","span-19",{"className":"hljs-keyword","children":"on"}]," User ",["$","span","span-20",{"className":"hljs-punctuation","children":"{"}],"\n          name\n          company\n          email\n          avatarUrl\n          location\n          login\n        ",["$","span","span-21",{"className":"hljs-punctuation","children":"}"}],"\n      ",["$","span","span-22",{"className":"hljs-punctuation","children":"}"}],"\n    ",["$","span","span-23",{"className":"hljs-punctuation","children":"}"}],"\n  ",["$","span","span-24",{"className":"hljs-punctuation","children":"}"}],"\n",["$","span","span-25",{"className":"hljs-punctuation","children":"}"}],"\n"]}]}],"\n",["$","p","p-12",{"children":"This query accepts an Organisation as a parameter. The query asks for the first 100 members of the organisation found. Within the nodes, the User Fragment is used to get a couple of properties of each user."}],"\n",["$","p","p-13",{"children":["To get this data into the component as static props (so the query is done on build-time) the method ",["$","strong","strong-0",{"children":"getStaticProps"}]," needs to be exported. With Next.js this can usually only be done on page level but Sitecore JSS added some magic to also allow this on component level:"]}],"\n",["$","pre","pre-6",{"children":["$","code","code-0",{"className":"hljs language-javascript","children":[["$","span","span-0",{"className":"hljs-keyword","children":"const"}]," query = ",["$","span","span-1",{"className":"hljs-built_in","children":"require"}],"(",["$","span","span-2",{"className":"hljs-string","children":"\"raw-loader!./userSearch.github.graphql\""}],").",["$","span","span-3",{"className":"hljs-property","children":"default"}],";\n\n",["$","span","span-4",{"className":"hljs-keyword","children":"export"}]," ",["$","span","span-5",{"className":"hljs-keyword","children":"const"}]," ",["$","span","span-6",{"className":"hljs-attr","children":"getStaticProps"}],": ",["$","span","span-7",{"className":"hljs-title class_","children":"GetStaticComponentProps"}]," = ",["$","span","span-8",{"className":"hljs-title function_","children":"async"}]," (rendering) => {\n  ",["$","span","span-9",{"className":"hljs-keyword","children":"try"}]," {\n    ",["$","span","span-10",{"className":"hljs-keyword","children":"const"}]," githubResults = ",["$","span","span-11",{"className":"hljs-keyword","children":"await"}]," ",["$","span","span-12",{"className":"hljs-title function_","children":"fetch"}],"(",["$","span","span-13",{"className":"hljs-string","children":"\"https://api.github.com/graphql\""}],", {\n      ",["$","span","span-14",{"className":"hljs-attr","children":"method"}],": ",["$","span","span-15",{"className":"hljs-string","children":"\"POST\""}],",\n      ",["$","span","span-16",{"className":"hljs-attr","children":"headers"}],": {\n        ",["$","span","span-17",{"className":"hljs-string","children":"\"Content-Type\""}],": ",["$","span","span-18",{"className":"hljs-string","children":"\"application/json\""}],",\n        ",["$","span","span-19",{"className":"hljs-title class_","children":"Authorization"}],": ",["$","span","span-20",{"className":"hljs-string","children":["`bearer ",["$","span","span-0",{"className":"hljs-subst","children":"$${process.env.GHUB_PRIVATE_KEY}"}],"`"]}],",\n      },\n\n      ",["$","span","span-21",{"className":"hljs-attr","children":"body"}],": ",["$","span","span-22",{"className":"hljs-title class_","children":"JSON"}],".",["$","span","span-23",{"className":"hljs-title function_","children":"stringify"}],"({\n        ",["$","span","span-24",{"className":"hljs-attr","children":"query"}],": query,\n        ",["$","span","span-25",{"className":"hljs-attr","children":"variables"}],": { ",["$","span","span-26",{"className":"hljs-attr","children":"organisation"}],": rendering.",["$","span","span-27",{"className":"hljs-property","children":"fields"}],"?.",["$","span","span-28",{"className":"hljs-property","children":"organisation"}],"?.",["$","span","span-29",{"className":"hljs-property","children":"value"}]," },\n      }),\n    });\n\n    ",["$","span","span-30",{"className":"hljs-keyword","children":"const"}]," githubData = ",["$","span","span-31",{"className":"hljs-keyword","children":"await"}]," githubResults.",["$","span","span-32",{"className":"hljs-title function_","children":"json"}],"();\n\n    ",["$","span","span-33",{"className":"hljs-keyword","children":"return"}]," githubData.",["$","span","span-34",{"className":"hljs-property","children":"data"}],";\n  } ",["$","span","span-35",{"className":"hljs-keyword","children":"catch"}]," (e) {\n    ",["$","span","span-36",{"className":"hljs-variable language_","children":"console"}],".",["$","span","span-37",{"className":"hljs-title function_","children":"error"}],"(e);\n    ",["$","span","span-38",{"className":"hljs-keyword","children":"return"}]," ",["$","span","span-39",{"className":"hljs-literal","children":"null"}],";\n  }\n};\n"]}]}],"\n",["$","p","p-14",{"children":["The organisation field is passed down from Sitecore, so the content editor can pick the GitHub organisation. ",["$","a","a-0",{"href":"https://doc.sitecore.com/en/developers/hd/190/sitecore-headless-development/create-a-new-component-in-a-jss-next-js-app-using-the-code-first-development-workflow.html","children":"Read more"}]," on how to add fields to components using the JSS Cli (I prefer this over clicking away in the Sitecore admin)."]}],"\n",["$","p","p-15",{"children":["Within the component the data can now be consumed with the ",["$","strong","strong-0",{"children":"useComponentProps"}]," hook:"]}],"\n",["$","pre","pre-7",{"children":["$","code","code-0",{"className":"hljs language-javascript","children":[["$","span","span-0",{"className":"hljs-keyword","children":"import"}]," { ",["$","span","span-1",{"className":"hljs-title class_","children":"GetStaticComponentProps"}]," } ",["$","span","span-2",{"className":"hljs-keyword","children":"from"}]," ",["$","span","span-3",{"className":"hljs-string","children":"\"@sitecore-jss/sitecore-jss-nextjs\""}],";\n",["$","span","span-4",{"className":"hljs-keyword","children":"import"}]," { ",["$","span","span-5",{"className":"hljs-title class_","children":"GithubUserSearchQuery"}]," } ",["$","span","span-6",{"className":"hljs-keyword","children":"from"}]," ",["$","span","span-7",{"className":"hljs-string","children":"\"./userSearch.github.graphql\""}],";\n\n",["$","span","span-8",{"className":"hljs-keyword","children":"const"}]," ",["$","span","span-9",{"className":"hljs-title class_","children":"UserSearch"}],": ",["$","span","span-10",{"className":"hljs-title class_","children":"React"}],".",["$","span","span-11",{"className":"hljs-property","children":"FC"}],"<",["$","span","span-12",{"className":"hljs-title class_","children":"UserSearchProps"}],"> = ({ fields, rendering }): ",["$","span","span-13",{"className":"hljs-variable constant_","children":"JSX"}],".",["$","span","span-14",{"className":"hljs-property","children":"Element"}]," => {\n    ",["$","span","span-15",{"className":"hljs-keyword","children":"const"}]," data = rendering.",["$","span","span-16",{"className":"hljs-property","children":"uid"}]," ? useComponentProps<",["$","span","span-17",{"className":"hljs-title class_","children":"GithubUserSearchQuery"}],">(rendering.",["$","span","span-18",{"className":"hljs-property","children":"uid"}],") : ",["$","span","span-19",{"className":"hljs-literal","children":"null"}],";\n"]}]}],"\n",["$","p","p-16",{"children":["With the type added to the ",["$","strong","strong-0",{"children":"useComponentProps"}]," function we get IntelliSense based on the query we created, how cool is that!"]}],"\n",["$","p","p-17",{"children":["$","img","img-0",{"src":"/blog/vscode.jpg","alt":"Intellisense"}]}]]}]]}]
f:[["$","meta","0",{"name":"viewport","content":"width=device-width, initial-scale=1"}]]
d:[["$","meta","0",{"charSet":"utf-8"}],["$","title","1",{"children":"Add external datasource to Sitecore JSS"}],["$","meta","2",{"name":"description","content":"Erwin Smit - Freelance frontend developer / fullstack developer"}],["$","meta","3",{"property":"og:title","content":"Add external datasource to Sitecore JSS"}],["$","meta","4",{"property":"og:description","content":"Erwin Smit - Freelance frontend developer / fullstack developer"}],["$","meta","5",{"name":"twitter:card","content":"summary"}],["$","meta","6",{"name":"twitter:title","content":"Add external datasource to Sitecore JSS"}],["$","meta","7",{"name":"twitter:description","content":"Erwin Smit - Freelance frontend developer / fullstack developer"}]]
b:null
